(function(e){function t(t){for(var n,s,c=t[0],i=t[1],u=t[2],d=0,f=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,c=1;c<r.length;c++){var i=r[c];0!==a[i]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},o=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-dogs-api/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=i;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},3632:function(e,t,r){"use strict";r("50ac")},"50ac":function(e,t,r){},5452:function(e,t,r){"use strict";r("af35")},"5c0b":function(e,t,r){"use strict";r("9c0c")},"87e9":function(e,t,r){"use strict";r("9309")},8906:function(e,t,r){"use strict";r("97e9")},9309:function(e,t,r){},"97e9":function(e,t,r){},"9c0c":function(e,t,r){},af35:function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Header"),r("router-view")],1)},o=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{attrs:{id:"nav"}},[r("div",{staticClass:"links-container"},[r("router-link",{attrs:{to:"/"}},[e._v("Home")]),r("DogsPicker"),r("router-link",{attrs:{to:"/favorites"}},[e._v("Favorites")])],1)])},c=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedBreed,expression:"selectedBreed"}],staticClass:"dogs-picker",on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedBreed=t.target.multiple?r:r[0]},e.updateBreed]}},[r("option",[e._v("random")]),e._l(e.breeds,(function(t,n){return r("option",{key:n},[e._v(e._s(t))])}))],2)},u=[],l=r("5530"),d=r("2f62"),f=n["a"].extend({name:"DogsPicker",data:function(){return{selectedBreed:"random"}},computed:Object(l["a"])({},Object(d["b"])({breeds:function(e){return e.breeds.breeds}})),methods:{updateBreed:function(){this.$store.dispatch("breeds/updateSelectedBreed",this.selectedBreed)}}}),p=f,m=(r("3632"),r("2877")),v=Object(m["a"])(p,i,u,!1,null,null,null),g=v.exports,h=n["a"].extend({name:"Header",components:{DogsPicker:g}}),b=h,w=(r("5452"),Object(m["a"])(b,s,c,!1,null,null,null)),O=w.exports,j=n["a"].extend({name:"App",components:{Header:O},created:function(){this.$store.dispatch("breeds/loadAllBreeds"),this.$store.dispatch("favorites/loadSavedFavorites")}}),x=j,y=(r("5c0b"),Object(m["a"])(x,a,o,!1,null,null,null)),_=y.exports,k=r("8c4f"),F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ImagesGrid",{attrs:{items:e.dogs,"general-alt":"dog"}})},B=[],S=r("2909"),H=(r("96cf"),r("1da1")),R=(r("99af"),r("4de4"),r("b64b"),r("bc3a")),$=r.n(R),I=$.a.create({baseURL:"https://dog.ceo/api/"});function E(e){return P.apply(this,arguments)}function P(){return P=Object(H["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,o,s,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:40,n="breed/".concat(t,"/images/random/").concat(r),a="breeds/image/random/".concat(r),o="random"===t?a:n,e.next=6,I.get(o);case 6:return s=e.sent,e.abrupt("return","success"===s.data.status?s.data.message:null);case 8:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function A(){return C.apply(this,arguments)}function C(){return C=Object(H["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I.get("breeds/list/all");case 2:return t=e.sent,r=t.data,e.abrupt("return","success"===r.status?Object.keys(r.message).filter((function(e){return 0===r.message[e].length})):null);case 5:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}var T=r("2ef0"),D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"images-grid"},[e._l(e.items,(function(t,n){return[r("ImageContainer",{key:n,attrs:{src:t,"general-alt":e.generalAlt}})]}))],2)},G=[],J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"image-container",on:{click:e.clickHandler}},[r("img",{attrs:{src:e.src,alt:e.generalAlt}}),r("div",{staticClass:"image-icon",class:{show:e.isFavorite}},[e._v("❤")])])},M=[],L=(r("caad"),r("2532"),n["a"].extend({name:"ImageContainer",props:{src:{type:String,required:!0},generalAlt:{type:String,default:"Image"}},computed:Object(l["a"])(Object(l["a"])({},Object(d["b"])({favorites:function(e){return e.favorites.favorites}})),{},{isFavorite:function(){return this.favorites.includes(this.src)}}),methods:{clickHandler:function(){this.isFavorite?this.$store.dispatch("favorites/removeFromFavorites",this.src):this.$store.dispatch("favorites/addToFavorite",this.src)}}})),N=L,q=(r("87e9"),Object(m["a"])(N,J,M,!1,null,null,null)),U=q.exports,z=n["a"].extend({name:"ImagesGrid",components:{ImageContainer:U},props:{items:{type:Array,default:function(){return[]}},generalAlt:{type:String,default:"Image"}}}),K=z,Q=(r("8906"),Object(m["a"])(K,D,G,!1,null,null,null)),V=Q.exports,W=n["a"].extend({name:"Home",components:{ImagesGrid:V},data:function(){return{dogs:[]}},created:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return window.addEventListener("scroll",e.debouncedScrollHandler()),t.next=3,e.loadDogs();case 3:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){window.removeEventListener("scroll",this.debouncedScrollHandler())},computed:Object(l["a"])({},Object(d["b"])({selectedBreed:function(e){return e.breeds.selectedBreed}})),methods:{loadDogs:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,E(e.selectedBreed);case 2:r=t.sent,r&&(n=e.dogs).push.apply(n,Object(S["a"])(r));case 4:case"end":return t.stop()}}),t)})))()},scrollHandler:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=document.documentElement.scrollTop+window.innerHeight>.95*document.documentElement.offsetHeight,!r){t.next=4;break}return t.next=4,e.loadDogs();case 4:case"end":return t.stop()}}),t)})))()},debouncedScrollHandler:function(){return Object(T["debounce"])(this.scrollHandler,500)}},watch:{selectedBreed:function(e){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,E(e);case 2:n=r.sent,n&&(t.dogs=[],(a=t.dogs).push.apply(a,Object(S["a"])(n)));case 4:case"end":return r.stop()}}),r)})))()}}}),X=W,Y=Object(m["a"])(X,F,B,!1,null,null,null),Z=Y.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ImagesGrid",{attrs:{items:e.dogs,"general-alt":"dog"}})},te=[],re=n["a"].extend({name:"Favorites",components:{ImagesGrid:V},computed:Object(l["a"])({},Object(d["b"])({dogs:function(e){return e.favorites.favorites}}))}),ne=re,ae=Object(m["a"])(ne,ee,te,!1,null,null,null),oe=ae.exports;n["a"].use(k["a"]);var se=[{path:"/",name:"Home",component:Z},{path:"/favorites",name:"Favorites",component:oe}],ce=new k["a"]({mode:"history",base:"/vue-dogs-api/",routes:se}),ie=ce,ue=function(){return{breeds:[],selectedBreed:"random"}},le={},de={loadAllBreeds:function(e){return Object(H["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,A();case 3:n=t.sent,r("setBreeds",n&&n.length?n:[]);case 5:case"end":return t.stop()}}),t)})))()},updateSelectedBreed:function(e,t){var r=e.commit;r("setBreed",t)}},fe={setBreeds:function(e,t){e.breeds=Object(S["a"])(t)},setBreed:function(e,t){e.selectedBreed=t}},pe={namespaced:!0,state:ue,getters:le,actions:de,mutations:fe},me=(r("c975"),r("a434"),"favorites");function ve(e){localStorage.setItem(me,JSON.stringify(e))}function ge(){var e=localStorage.getItem(me);return e?JSON.parse(e):[]}var he=function(){return{favorites:[]}},be={},we={loadSavedFavorites:function(e){var t=e.commit,r=ge();t("setFavorites",r)},addToFavorite:function(e,t){var r=e.commit;r("addToFavorite",t)},removeFromFavorites:function(e,t){var r=e.commit;r("removeFromFavorites",t)}},Oe={setFavorites:function(e,t){e.favorites=t},addToFavorite:function(e,t){e.favorites.push(t),ve(e.favorites)},removeFromFavorites:function(e,t){var r=e.favorites.indexOf(t);r>-1&&e.favorites.splice(r,1),ve(e.favorites)}},je={namespaced:!0,state:he,getters:be,actions:we,mutations:Oe};n["a"].use(d["a"]);var xe=new d["a"].Store({modules:{breeds:pe,favorites:je}});n["a"].config.productionTip=!1,new n["a"]({router:ie,store:xe,render:function(e){return e(_)}}).$mount("#app")}});
//# sourceMappingURL=app.99c7f253.js.map